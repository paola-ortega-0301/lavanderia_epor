{% extends 'app_gestion/base.html' %}

{% block content %}
<div class="text-center">
    <h1 class="main-title">Detalles de Pedidos</h1>
    <p class="main-subtitle">Aquí puedes gestionar todos los detalles de los pedidos.</p>
    <a href="{% url 'agregar_detalle' %}" class="button-primary">Agregar Nuevo Detalle</a>
</div>

{% if detalles %}
    <table class="table-clients">
        <thead>
            <tr>
                <th>ID</th>
                <th>Pedido</th>
                <th>Artículo</th>
                <th>Cantidad</th>
                <th>Servicio</th>
                <th>Costo</th>
                <th>Subtotal</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for detalle in detalles %}
                <tr>
                    <td>{{ detalle.id }}</td>
                    <td>{{ detalle.pedido }}</td>
                    <td>{{ detalle.articulo }}</td>
                    <td>{{ detalle.cantidad }}</td>
                    <td>{{ detalle.tipo_servicio }}</td>
                    <td>{{ detalle.costo_servicio_individual }}</td>
                    <td>{{ detalle.subtotal_item }}</td>
                    <td class="client-actions">
                        <a href="{% url 'ver_detalle_pedido' detalle.pk %}" class="button-primary">Ver</a>
                        <a href="{% url 'editar_detalle' detalle.pk %}" class="button-secondary">Editar</a>
                        <a href="{% url 'eliminar_detalle' detalle.pk %}" class="button-danger">Eliminar</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p class="text-center">No hay detalles de pedidos registrados.</p>
{% endif %}

{% endblock %}
